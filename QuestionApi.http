# @HostAddress = https://qbank.yuxiaoyu.top/api
@HostAddress = https://localhost:7224
@email = admin@qq.com
@badPassword = password
@password = Az.123123!

# 注册用户
POST {{HostAddress}}/register
Content-Type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}",
  "confirmPassword": "{{password}}"
}

###

# 使用密码登录获取Token
POST {{HostAddress}}/login?useCookies=false
Content-Type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}"
}

###

# Token
@accessToken = CfDJ8AfsKNinfjRPgNkrR0o_RlC-OdfjpqNrJmVznyfnvdIzgmyB4eAXgiTwWsIoywQip8Ffj1eQ_0XER1AYhSBnevRgLlj2F4MSDkq0DJ2vWDdwsdGH3FB4iFLPG2iQ0cX9m-LhXxntFgqcl8zdnQbC1S74uIttYmqz05ZrHnwzo085DbF9y3gQ97NvfWxUrMoqmCWHDD9lSSSOCbUaTeDyDBXzwVROnyeNxoYx0CVRkc957RmcGFPBTILRbn2qd1UulgJcnBszRA2xB3b1p11Vyzz5hziuFmE2PKkyKQYN2_zmdXzhVuVZmsLw5HZZGYAIENKOo_9O4rDyNlO5H82qUIMaS_8KI6DDvf8QV_VxXtl6JHs8Ycb-UR1q4Ii88uNeJoNah87-Jz6qEx4bsTNnZG3IiLccQr-psqGZNyi_jkop-USUaDTRWZRUbDaKOPmmhA0qeQa-lTUDTpn2oaTnR78SgTkbu3F4H0p6gLksKRijRA8_HoPS0uQq1Hi4Ynug9J75vyI97dFnwT49SkcCexqfY20eK--dzepN4GjSSXdPH7XXv7CsOl2y9_obLYBlF_ZEKc5lOJfU6g4ycOA0BXWKNHAJZIiqTviYLwJ5BP5erKzFuxYTPEIqaDtqHEPNE09HJG7aVeiGa0gesC5IgMYzGDFA9qVLaNJKdNGTeJ47ahkdB61i6oS6crQe43LurJExmA2JOvc04B7L9WmGhKrghP6v_q5zOslIw9tDtwgdlmfnrFB2gE3aWiuNMc-oKzuK8ET6_Q-o6VnsSHYl2dGgYt2yQz2zvQDeJ1AdzyJjuzYXhoKsvLbj_c1IWjwlAOB2_Uoi14x8vwFNby5B3uumnP3BC1XlQD201HFtlAei_Ih-2pN-CcCuedji0J4URZ4WjJDvxEr49GJSxcLsHkk
@refreshToken = CfDJ8AfsKNinfjRPgNkrR0o_RlCiWA4mLqjAMj63qUspJtUKTWfMKWer0vh1UbwrfQLsP1wTpvBvVipDCy_c3Ipw0n3E_sL-f-Gm-K8v1p0AXOm3PmxzR6U6CRfmbyWaZlhV1uOSX_XijViMNKyWxUNWTIN2W_dCgjeV4uyX3ChqV5SWrsmc6TPTm_t3XVPUUFenbCLmeUtWtcQf3ZDvHtNasVwyIP0PCXkvA2sLjDyi2yTW3cdB4xgbT_ufAsyhKX17rCkQ-E44ewzZRpSxtiNNp5TvnnCw5mp34mKgJNrEJ3yOrRLFKlJGvE4FWCBkkinwXRabc4hsSBoPTGGUUkhfNiQxmzwmIzy-a60vwza8jsA2_Ljvt-PtEHXPQycrE1odG5Sa_Y6pJMMinux8BNtxFvIaZ-MfPGV3qbN5BnVUDiFEkfKrvAOvvnXz4zJoJuGIxsh1ZSALC9h3IR0uCkwlpqjULfRV5uKdaz824Ly9d3xNZ08GFoG26UxKkK6A5ToHl_0XZgjQy3DJHFvBinruqDPveK2fuOAGNqf8cDIEwXBX8fB_HhZ9lN0g-Eync8ARBG60wCkpJOxb1K-ItAeiqlAkIyBZcB2k-lLjhbILSDJMslJQOZZHtvoTe5Q7ONuvY43Wkn1y58JELCBSA8scCiH7ZQPQSbk2Zvp6_ODZBAJxwIN_JO0Cr8Qsjfm_770cvDS8r1gF75f4mBj98xNWXZrt0QD8sfyrAL3GopYr_jZlP57lBUGshhutfZ1Jdb6_UXXaiKvPxsZ-jG4Uu1agJKZU1iKteYoP_Z6zxdcNUaRAM_Z50wHK4Zerbuggv8ExH6fD8iuFlnz_Ps2XofeChFTzuirESGS4dmkR947jdlDueaUKfvhotHnmZEawlcKwlMY_U9ouhx5MfD64u4WjwA4

###

# 刷新Token
POST {{HostAddress}}/refresh
Content-Type: application/json

{
  "refreshToken": "{{refreshToken}}"
}

### 用户接口

# 获取用户总数
GET {{HostAddress}}/users/count HTTP/1.1
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 获取用户列表
GET {{HostAddress}}/users/ HTTP/1.1
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 根据ID获取用户
GET {{HostAddress}}/users/b23f7e0a-3a76-4f0a-b51f-da03680eaa9d/ HTTP/1.1
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 修改用户
PUT {{HostAddress}}/users/b23f7e0a-3a76-4f0a-b51f-da03680eaa9d/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "userName": "student",
  "Roles": ["student"]
}

###

# 获取题目总数(一般用于分页)
GET {{HostAddress}}/Questions/count
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 获取题目列表
GET {{HostAddress}}/Questions/?offset=0&limit=100
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 根据题目ID获取题目
GET {{HostAddress}}/Questions/22
Authorization: Bearer {{accessToken}}
Accept: application/json


###

# 创建单选题目
POST {{HostAddress}}/Questions/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "QuestionText": "测试题目？",
  "QuestionType": 1,
  "DifficultyLevel": 1,
  "CorrectAnswer": "D",
  "Options": [
    {
      "OptionCode": "A",
      "OptionText": "方法论1",
      "IsCorrect": false
    },
    {
      "OptionCode": "B",
      "OptionText": "方法论2",
      "IsCorrect": false
    },
    {
      "OptionCode": "C",
      "OptionText": "方法论3",
      "IsCorrect": false
    },
    {
      "OptionCode": "D",
      "OptionText": "方法论4",
      "IsCorrect": true
    }
  ]
}

###

# 创建多选题目
POST {{HostAddress}}/Questions/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "QuestionText": "多选题，题目？",
  "QuestionType": 2,
  "DifficultyLevel": 1,
  "CorrectAnswer": "A,C,D",
  "Options": [
    {
      "OptionCode": "A",
      "OptionText": "方法论1",
      "IsCorrect": true
    },
    {
      "OptionCode": "B",
      "OptionText": "方法论2",
      "IsCorrect": false
    },
    {
      "OptionCode": "C",
      "OptionText": "方法论3",
      "IsCorrect": true
    },
    {
      "OptionCode": "D",
      "OptionText": "方法论4",
      "IsCorrect": true
    }
  ]
}

###

# 创建判断题目
POST {{HostAddress}}/Questions/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "QuestionText": "判断题，题目？",
  "QuestionType": 3,
  "DifficultyLevel": 1,
  "CorrectAnswer": "1"
}

###

# 创建填空题目
POST {{HostAddress}}/Questions/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "QuestionText": "填空题？",
  "QuestionType": 4,
  "DifficultyLevel": 1,
  "CorrectAnswer": "喔哦喔哦我啊啊啊"
}

###

# 修改题目
PUT {{HostAddress}}/Questions/22
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "CorrectAnswer": "D"
}

###

# 删除题目
DELETE  {{HostAddress}}/Questions/32
Authorization: Bearer {{accessToken}}
Content-Type: application/json

###


### 试卷相关API

# 查询试卷列表
GET {{HostAddress}}/Exams/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

###

# 根据ID查询试卷
GET {{HostAddress}}/Exams/4
Authorization: Bearer {{accessToken}}
Content-Type: application/json

###

# 创建试卷
POST {{HostAddress}}/Exams/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "ExamName": "第一套试卷",
  "DifficultyLevel": 2,
  "ExamQuestions": [
    {
      "Order": 1,
      "QuestionId": 22
    },
    {
      "Order": 2,
      "QuestionId": 23
    },
    {
      "Order": 3,
      "QuestionId": 27
    },
    {
      "Order": 4,
      "QuestionId": 30
    }
  ]
}

###

# 修改试卷
PUT  {{HostAddress}}/Exams/4
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "ExamName": "第一套试卷",
  "DifficultyLevel": 3,
  "ExamQuestions": [
    {
      "Order": 1,
      "QuestionId": 22
    },
    {
      "Order": 2,
      "QuestionId": 23
    },
    {
      "Order": 3,
      "QuestionId": 27
    },
    {
      "Order": 4,
      "QuestionId": 30
    },
    {
      "Order": 5,
      "QuestionId": 34
    },
    {
      "Order": 6,
      "QuestionId": 35
    }
  ]
}
