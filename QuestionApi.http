@HostAddress = https://qbank.yuxiaoyu.top/api
# @HostAddress = https://localhost:7224/api
@email = admin@qq.com
@badPassword = password
@password = Az.123123!

# 注册用户
POST {{HostAddress}}/register
Content-Type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}",
  "confirmPassword": "{{password}}"
}

###

# 使用密码登录获取Token
POST {{HostAddress}}/login?useCookies=false
Content-Type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}"
}

###

# Token
@accessToken = CfDJ8D5AZxaCIK9Pp0gjouj9HChIWvvZn65GHBSCqkapFweUymqCgBo_oBJp9Hl9Npjach2Bhyr7tcQQoDBZdlXW5wOPtyLk-nzaoa1cfNqi4NC-BdwM0ZxkPoswHucQ-m4xBGWzsHHl5mhlIGmV5o5R1AG7GsfrKy9V4691Gm_s-Z0PIvvlWJ7RjArROGAaNimOUd_LPstlXpmiZPVEwNEprUp7ucr4mKamIBHifslhzdKyAgo9gaRsHx_XPi5aukFuAddriKhkyChvvN_2oOVbfXs6fhzzummIQYCJ0JtIGvl6_8WaTli_QwXYE8n7DYNmIK0j8jaXV0f6QUUTIbSKCTmjFD6qGCdr_YSYcTcFjeZJJ2PzmAWv-Zj9uXqYMMhT-JSF7X7xU1iK76XUSs7atw0FFZFYBtc47K6J9rsLAjMxEpe7LewjC1XHcw65xNfOXGe_3h-Ra8xUTz1jt6Nw7IX1LAtSWlg2iihHOZ4M1uvbwmIHz5EFxiqT8JDGWyHHosgieGo1Ibi4XvHm4CVRPzEZjDFkp4T5vpBpmDa2O7FUSsg87QmWrfaXe16pgH2fCbZjZIry_SQmfSxInouaRMMN8so0_DspwSzR1fPfhn8_5t76LBgAslouR41nFyO1qD8RAVqva8F_DZsaHoG9Ah5vg5ovWD1TBCYuJ5RETq8C8PHhEoqRwy5wruT0XoK2ITKQafyCoiJrTe-Gnkmyt3f5Z574UwFWfg-pROWqOleTp8y8Z2zy2m6eNutz3C73xFH5o-0CFnMXD7Ks8bKWCDPouIYD3ryO6-gCqpvvCiiHSicpp8shN0t4wO5c5wMj7NzwqLKwLk3f2FZPfvQgane5wrZIt7aGfHR-WEOWtYcffU0gYFrQoVg-MO1SCDGzqLGvDYyDXcUevDxbaao_gno
@refreshToken = CfDJ8D5AZxaCIK9Pp0gjouj9HCicg3lOpEaBU6v79wKPYpmc85b8sDqY34N-C-bQHeKYuhTRspTBsVGeRALRXGTgaYdQnKSHejKCausVPRP4PQA64K_Xo5Qwh5oN-qKe0fSzF6Mu4o-BKOYWEobQP9ylvsxDUbFvxG5VlfKvP9PpiNQHU0vFL8wZkqpCZ0a746Acz0i5YmLTcUg463H8ecHjTPLIQkJC0q7WdOFH7hWigFcdmsHORkpPmYi4KTxTCydbe_UGmM-VmAXpuuiammagGfWjheWljXO5kjCL2RzUtKr_20OZLbVx28d6P7gxT7pfYJNNTwDtcOxumdBaUxatTRLwNL1dxpLf0qs36pzBqWAuUm6xxMZEeU7cWYisgH1j01KcQGuGgZPZ4Q17ClmnhtD2xainvUi3WQJVPukYud4Tg_oI3fSwZ1ONrSrjUcKN7qDs_Na8bZmTfC_SA4t_nG9g5jdMlvkvP3pBUQQHa1PbFfD81EXG4qc58vxutEbon-DZLOeRPM062a7bTEY3fR3730pUqC_XLGMZxr3KBYDevYFrl3vw3y9I0E33H2ycfdWGCVNpzbTb0qw6tHLu4dl_yHfNTjrd7Xlcmi6tEjRTuKh-hQ0wVy_Iw1cqA3F4i1wcdECXpv32x7l1_bWs81xQ1HpMeJfNeawhgrNlq-SrVVvwZWvlrtwna6QCPXY5koOQV0ktRddoaXztgUpRmKEEtBy3AvK434lgik5Msgp28w-t9UkyvucWtQL4WxCzRZjolo4JAvdQx-8w5FfUAbrnOt3bedDnsdd6NXinEWoPZorEWKdlGzSrEc91Fo0ujzc5WuOOpabIIXaYQjhC3GOwWQamWixpC0dlSzasSkSVpw9vHfJ8nQuvmwod0034doWJEVUfkVT1jNqXX1ii9Q4

###

# 刷新Token
POST {{HostAddress}}/refresh
Content-Type: application/json

{
  "refreshToken": "{{refreshToken}}"
}

### 用户接口

# 获取用户总数
GET {{HostAddress}}/users/count HTTP/1.1
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 获取用户列表
GET {{HostAddress}}/users/ HTTP/1.1
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 根据ID获取用户
GET {{HostAddress}}/users/b23f7e0a-3a76-4f0a-b51f-da03680eaa9d/ HTTP/1.1
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 修改用户
PUT {{HostAddress}}/users/b23f7e0a-3a76-4f0a-b51f-da03680eaa9d/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "userName": "student",
  "Roles": ["student"]
}

###

# 获取题目总数(一般用于分页)
GET {{HostAddress}}/Questions/count
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 获取题目列表
GET {{HostAddress}}/Questions/?offset=0&limit=100
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 根据题目ID获取题目
GET {{HostAddress}}/Questions/31
Authorization: Bearer {{accessToken}}
Accept: application/json


###

# 创建单选题目
POST {{HostAddress}}/Questions/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "QuestionText": "测试题目？",
  "QuestionType": 1,
  "DifficultyLevel": 1,
  "CorrectAnswer": "D",
  "Options": [
    {
      "OptionCode": "A",
      "OptionText": "方法论1",
      "IsCorrect": false
    },
    {
      "OptionCode": "B",
      "OptionText": "方法论2",
      "IsCorrect": false
    },
    {
      "OptionCode": "C",
      "OptionText": "方法论3",
      "IsCorrect": false
    },
    {
      "OptionCode": "D",
      "OptionText": "方法论4",
      "IsCorrect": true
    }
  ]
}

###

# 创建多选题目
POST {{HostAddress}}/Questions/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "QuestionText": "多选题，题目？",
  "QuestionType": 2,
  "DifficultyLevel": 1,
  "CorrectAnswer": "A,C,D",
  "Options": [
    {
      "OptionCode": "A",
      "OptionText": "方法论1",
      "IsCorrect": true
    },
    {
      "OptionCode": "B",
      "OptionText": "方法论2",
      "IsCorrect": false
    },
    {
      "OptionCode": "C",
      "OptionText": "方法论3",
      "IsCorrect": true
    },
    {
      "OptionCode": "D",
      "OptionText": "方法论4",
      "IsCorrect": true
    }
  ]
}

###

# 创建判断题目
POST {{HostAddress}}/Questions/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "QuestionText": "判断题，题目？",
  "QuestionType": 3,
  "DifficultyLevel": 1,
  "CorrectAnswer": "1"
}

###

# 创建填空题目
POST {{HostAddress}}/Questions/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "QuestionText": "填空题？",
  "QuestionType": 4,
  "DifficultyLevel": 1,
  "CorrectAnswer": "喔哦喔哦我啊啊啊"
}

###

# 修改题目
PUT {{HostAddress}}/Questions/22
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "CorrectAnswer": "D"
}

###

# 删除题目
DELETE  {{HostAddress}}/Questions/32
Authorization: Bearer {{accessToken}}
Content-Type: application/json

###


### 试卷相关API

# 查询试卷列表
GET {{HostAddress}}/Exams/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

###

# 根据ID查询试卷
GET {{HostAddress}}/Exams/3
Authorization: Bearer {{accessToken}}
Content-Type: application/json

###

# 创建试卷
POST {{HostAddress}}/Exams/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "ExamName": "第一套试卷",
  "DifficultyLevel": 2,
  "ExamQuestions": [
    {
      "Order": 1,
      "QuestionId": 22
    },
    {
      "Order": 2,
      "QuestionId": 23
    },
    {
      "Order": 3,
      "QuestionId": 27
    },
    {
      "Order": 4,
      "QuestionId": 30
    }
  ]
}
