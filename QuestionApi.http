# @HostAddress = https://qbank.yuxiaoyu.top/api
@HostAddress = https://localhost:7224
@email = admin@qq.com
@badPassword = password
@password = Az.123123!

# 注册用户
POST {{HostAddress}}/register
Content-Type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}"
}

###

# 使用密码登录获取Token
POST {{HostAddress}}/login?useCookies=false
Content-Type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}"
}

###

# Token
@accessToken = CfDJ8AfsKNinfjRPgNkrR0o_RlDFo-pIZgAuZ9iVTJVbQl0YFPRCScCM76gZe2KzjI8KHF42hrXIwAUs_K-atuxYbFnSRoqpMyegwwzPq86vOQkceMUNm4Ty5pTs-AWQEJ9MRfTYNbaj1ahoBnn7ieEt3AIexSrK2vWzBv_PFyigaxMQwu5VTiOm0Fxi-BAIJhX7IYaAVJ9iopAAYx10vzVExCiDGwumwGLpU_mzgx-SQQ99nl4vMx45doakgBhybk4-xebp6ZUWETiLZBLi3valCsMalXbDb3FXCXLpohENJ3grIZlUQZoFVD44dpsjLPAkcFexCBWFf4meV6rxirAiSBBaw55L8HGrPhFqpS32mcmzCffKr69yRE2cZWEqbs0nABuzkERfi2RdBSerKU-TxgC24AGl-jrqLZc6oXff4IyDCNLLU4OuLazlEUKv-rgk13whQz8SLn1mzo39N1-xKEKt74SvQfnXagjtgxY06WXYAuu8fmNd-dvBbgY-6iVz10-TRhHscFbnA6VfUzBByPwZyhxA7HWTDqCQsPtCWTvs1E_7aREOmy016UfK3dxrJRxkwLrTtsnwlG0YaHjCvZioWpMaWPp_L75WCI5Z7Y7oBzKVTq8qJ2MQ5rQmOA64Zg
@refreshToken = CfDJ8AfsKNinfjRPgNkrR0o_RlBy2bdx-ZV9N71ty2YcSaQ6JrfwRPOOWn2vgRGxCIT6-z7izmihkAEpTwKrNLcQ1Z4jVee4LMI78LtsWJsNDi8r1rgiqlvz1cOTjYz0VtLkjDsUNWbXp1CNBjmKRvAky4X1_yeSSalwO2rUoKy9cCb_JY1djeg6S0Fassm17r41hmdigw2WaPNI6z5RMppi0MZluFMaKS15_DiuAmk2iuZaCxsFdFv863kr1kEYTW1UOXw4zAqQYR6RueQbY2XIQZIulWnmrJkKlSXmc6tQU79mex8Mz6v6n3hBJfRN9OxC1d6D7cl0gKhCAYmlM2m_4N17XEmRuE4tlZ-SefZ7NwMIih20K5IS-tpYftsQfqRRDVZV92vluLTOt-9C2YkMdDl_twMwmCuBMvIJD799-32mrCNyyz_BRt5ZEyfAnIjScAcmKH8lGw6jFwxJBS1L4iB3lPQf-TB_KbKkRlkw8SGQvvAyCQnFe_MNnefiJXwglUaMghmhMAoNmcbucfNIhcM2thoGCRXOpeXKf4lwJq0xZLfraKZeOtH6CCc9wDdqCJ21x0k0rIwQI6c-htn4SbZeLeteJo21i6tWUY4sTJdXLnjnO0f97QdbbTSjw7sjww

###

# 刷新Token
POST {{HostAddress}}/refresh
Content-Type: application/json

{
  "refreshToken": "{{refreshToken}}"
}

### 用户接口

# 获取用户总数
GET {{HostAddress}}/users/count HTTP/1.1
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 获取用户列表
GET {{HostAddress}}/users/ HTTP/1.1
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 根据ID获取用户
GET {{HostAddress}}/users/b23f7e0a-3a76-4f0a-b51f-da03680eaa9d/ HTTP/1.1
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 修改用户
PUT {{HostAddress}}/users/b23f7e0a-3a76-4f0a-b51f-da03680eaa9d/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "userName": "student",
  "Roles": ["student"]
}

###

# 获取题目总数(一般用于分页)
GET {{HostAddress}}/Questions/count
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 获取题目列表
GET {{HostAddress}}/Questions/?offset=0&limit=100
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 根据题目ID获取题目
GET {{HostAddress}}/Questions/22
Authorization: Bearer {{accessToken}}
Accept: application/json


###

# 创建单选题目
POST {{HostAddress}}/Questions/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "QuestionText": "测试题目？",
  "QuestionType": 1,
  "DifficultyLevel": 1,
  "CorrectAnswer": "D",
  "Options": [
    {
      "OptionCode": "A",
      "OptionText": "方法论1",
      "IsCorrect": false
    },
    {
      "OptionCode": "B",
      "OptionText": "方法论2",
      "IsCorrect": false
    },
    {
      "OptionCode": "C",
      "OptionText": "方法论3",
      "IsCorrect": false
    },
    {
      "OptionCode": "D",
      "OptionText": "方法论4",
      "IsCorrect": true
    }
  ]
}

###

# 创建多选题目
POST {{HostAddress}}/Questions/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "QuestionText": "多选题，题目？",
  "QuestionType": 2,
  "DifficultyLevel": 1,
  "CorrectAnswer": "A,C,D",
  "Options": [
    {
      "OptionCode": "A",
      "OptionText": "方法论1",
      "IsCorrect": true
    },
    {
      "OptionCode": "B",
      "OptionText": "方法论2",
      "IsCorrect": false
    },
    {
      "OptionCode": "C",
      "OptionText": "方法论3",
      "IsCorrect": true
    },
    {
      "OptionCode": "D",
      "OptionText": "方法论4",
      "IsCorrect": true
    }
  ]
}

###

# 创建判断题目
POST {{HostAddress}}/Questions/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "QuestionText": "判断题，题目？",
  "QuestionType": 3,
  "DifficultyLevel": 1,
  "CorrectAnswer": "1"
}

###

# 创建填空题目
POST {{HostAddress}}/Questions/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "QuestionText": "填空题？",
  "QuestionType": 4,
  "DifficultyLevel": 1,
  "CorrectAnswer": "喔哦喔哦我啊啊啊"
}

###

# 修改题目
PUT {{HostAddress}}/Questions/22
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "CorrectAnswer": "D"
}

###

# 删除题目
DELETE  {{HostAddress}}/Questions/32
Authorization: Bearer {{accessToken}}
Content-Type: application/json

###


### 试卷相关API

# 查询试卷列表
GET {{HostAddress}}/Exams/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

###

# 根据ID查询试卷
GET {{HostAddress}}/Exams/4
Authorization: Bearer {{accessToken}}
Content-Type: application/json

###

# 创建试卷
POST {{HostAddress}}/Exams/
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "ExamName": "第一套试卷",
  "DifficultyLevel": 2,
  "ExamQuestions": [
    {
      "Order": 1,
      "QuestionId": 22
    },
    {
      "Order": 2,
      "QuestionId": 23
    },
    {
      "Order": 3,
      "QuestionId": 27
    },
    {
      "Order": 4,
      "QuestionId": 30
    }
  ]
}

###

# 修改试卷
PUT  {{HostAddress}}/Exams/4
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "ExamName": "第一套试卷",
  "DifficultyLevel": 3,
  "ExamQuestions": [
    {
      "Order": 1,
      "QuestionId": 22
    },
    {
      "Order": 2,
      "QuestionId": 23
    },
    {
      "Order": 3,
      "QuestionId": 27
    },
    {
      "Order": 4,
      "QuestionId": 30
    },
    {
      "Order": 5,
      "QuestionId": 34
    },
    {
      "Order": 6,
      "QuestionId": 35
    }
  ]
}

###

# 创建考试
POST {{HostAddress}}/examination HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "ExaminationName": "六级考试",
  "ExaminationType": 1,
  "DifficultyLevel": 1,
  "ExamPaperId": 4,
  "DurationSeconds": 1800
}

###

# 获取考试
GET {{HostAddress}}/examination/1 HTTP/1.1
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 获取考试列表
GET {{HostAddress}}/examination/ HTTP/1.1
Authorization: Bearer {{accessToken}}
Accept: application/json

###

# 修改考试
PUT {{HostAddress}}/examination/1 HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "ExaminationName": "六级考试xxxxxxx",
  "DurationSeconds": 600
}

###

# 删除考试
DELETE {{HostAddress}}/examination/16 HTTP/1.1
Authorization: Bearer {{accessToken}}
Accept: application/json

###
